{
  "openapi": "3.1.0",
  "info": {
    "title": "Rese",
    "description": "Rese API",
    "version": "0.0.1"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Local server (php artisan serve)"
    },
    {
      "url": "http://rese-backend.test",
      "description": "Local server (Herd)"
    }
  ],
  "paths": {
    "/areas": {
      "get": {
        "tags": ["Area"],
        "summary": "エリア一覧取得",
        "description": "エリア一覧を取得する",
        "operationId": "get-areas",
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-areas-200"
          }
        }
      }
    },
    "/auth/status": {
      "get": {
        "tags": ["Auth"],
        "summary": "認証状態取得",
        "description": "認証状態を取得する",
        "operationId": "get-auth-status",
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-auth-status-200"
          }
        }
      }
    },
    "/customers/{customer}": {
      "get": {
        "tags": ["Customer"],
        "summary": "顧客情報取得",
        "description": "セッション中の顧客情報を取得する",
        "operationId": "get-customer",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/show-customer-200"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/customers/{customer}/favorites": {
      "get": {
        "tags": ["Favorite"],
        "summary": "マイページでのお気に入り一覧取得機能",
        "description": "セッション中の顧客がお気に入り登録している飲食店の一覧を取得する",
        "operationId": "get-customer-favorites",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/page-query"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-customer-favorites-200"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/customers/{customer}/reservations": {
      "get": {
        "tags": ["Reservation"],
        "summary": "マイページでの予約一覧取得機能",
        "description": "セッション中の顧客が行っている予約の一覧を取得する",
        "operationId": "get-customer-reservations",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-customer-reservations-200"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/customers/{customer}/reservations/{reservation}": {
      "put": {
        "tags": ["Reservation"],
        "summary": "マイページでの予約変更機能",
        "description": "セッション中の顧客が行っている指定の予約を変更する",
        "operationId": "put-customer-reservation",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/reservation-id"
          }
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/put-customer-reservation"
        },
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          },
          "422": {
            "$ref": "#/components/responses/put-customer-reservation-422"
          }
        }
      },
      "delete": {
        "tags": ["Reservation"],
        "summary": "マイページでの予約取り消し機能",
        "description": "セッション中の顧客が指定の飲食店で行っている指定の予約を取り消す",
        "operationId": "delete-customer-reservations",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/reservation-id"
          }
        ],
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/customers/{customer}/shops/{shop}/favorite": {
      "post": {
        "tags": ["Favorite"],
        "summary": "お気に入り登録",
        "description": "セッション中の顧客が指定の飲食店をお気に入り登録する",
        "operationId": "post-customer-shop-favorite",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/shop-id"
          }
        ],
        "responses": {
          "201": {
            "$ref": "#/components/responses/created"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          },
          "422": {
            "$ref": "#/components/responses/unprocessable-entity"
          }
        }
      },
      "delete": {
        "tags": ["Favorite"],
        "summary": "お気に入り解除",
        "description": "セッション中の顧客が指定の飲食店のお気に入りを解除する",
        "operationId": "delete-customer-shop-favorite",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/shop-id"
          }
        ],
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          },
          "422": {
            "$ref": "#/components/responses/unprocessable-entity"
          }
        }
      }
    },
    "/customers/{customer}/shops/{shop}/reservations": {
      "get": {
        "tags": ["Reservation"],
        "summary": "飲食店詳細ページでの予約一覧取得機能",
        "description": "セッション中の顧客が指定の飲食店で行っている予約を一覧取得する",
        "operationId": "get-customer-shop-reservations",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/shop-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-customer-shop-reservations-200"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      },
      "post": {
        "tags": ["Reservation"],
        "summary": "飲食店詳細ページでの予約追加機能",
        "description": "セッション中の顧客が指定の飲食店で予約を追加する",
        "operationId": "post-customer-shop-reservations",
        "parameters": [
          {
            "$ref": "#/components/parameters/customer-id"
          },
          {
            "$ref": "#/components/parameters/shop-id"
          }
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/post-customer-shop-reservations"
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/post-customer-shop-reservations-201"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          },
          "422": {
            "$ref": "#/components/responses/post-customer-shop-reservations-422"
          }
        }
      }
    },
    "/genres": {
      "get": {
        "tags": ["Genre"],
        "summary": "ジャンル一覧取得",
        "description": "ジャンル一覧を取得する",
        "operationId": "get-genres",
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-genres-200"
          }
        }
      }
    },
    "/owners": {
      "post": {
        "tags": ["Admin"],
        "summary": "店舗代表者追加",
        "description": "店舗代表者アカウントを追加する",
        "operationId": "post-owners",
        "requestBody": {
          "$ref": "#/components/requestBodies/post-owners"
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/created"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "422": {
            "$ref": "#/components/responses/post-owners-422"
          }
        }
      }
    },
    "/shops": {
      "get": {
        "tags": ["Shop"],
        "summary": "飲食店一覧取得",
        "description": "飲食店一覧を取得する",
        "operationId": "get-shops",
        "parameters": [
          {
            "$ref": "#/components/parameters/area-query"
          },
          {
            "$ref": "#/components/parameters/genre-query"
          },
          {
            "$ref": "#/components/parameters/search-query"
          },
          {
            "$ref": "#/components/parameters/page-query"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-shops-200"
          }
        }
      }
    },
    "/shops/{shop}": {
      "get": {
        "tags": ["Shop"],
        "summary": "飲食店情報取得",
        "description": "飲食店情報を個別に取得する",
        "operationId": "get-shop",
        "parameters": [
          {
            "$ref": "#/components/parameters/shop-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/get-shop-200"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/sanctum/csrf-cookie": {
      "get": {
        "tags": ["Auth"],
        "summary": "CSRFトークン取得",
        "description": "CSRFトークンを取得する",
        "operationId": "get-sanctum-csrf-cookie",
        "responses": {
          "204": {
            "$ref": "#/components/responses/get-sanctum-csrf-cookie-204"
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "顧客登録",
        "description": "顧客を新規登録する",
        "operationId": "post-auth-register",
        "requestBody": {
          "$ref": "#/components/requestBodies/post-auth-register"
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/created"
          },
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "422": {
            "$ref": "#/components/responses/post-auth-register-422"
          }
        }
      }
    },
    "/auth/email/verification-notification": {
      "post": {
        "tags": ["Auth"],
        "summary": "確認メール送信",
        "description": "メールアドレス確認通知を登録メールアドレスに送信する",
        "operationId": "post-auth-email-verification-notification",
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          }
        }
      }
    },
    "/auth/email/verify/{user}/{hash}": {
      "get": {
        "tags": ["Auth"],
        "summary": "メールアドレス確認",
        "description": "メールでの本人確認を行う",
        "operationId": "get-auth-email-verify",
        "parameters": [
          {
            "$ref": "#/components/parameters/user-id"
          },
          {
            "$ref": "#/components/parameters/hash"
          }
        ],
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "401": {
            "$ref": "#/components/responses/unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/forbidden"
          },
          "404": {
            "$ref": "#/components/responses/not-found"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "ログイン",
        "description": "顧客のログイン処理を行う",
        "operationId": "post-auth-login",
        "requestBody": {
          "$ref": "#/components/requestBodies/post-auth-login"
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/ok"
          },
          "204": {
            "$ref": "#/components/responses/no-content"
          },
          "422": {
            "$ref": "#/components/responses/post-auth-login-422"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "ログアウト",
        "description": "顧客のログアウト処理を行う",
        "operationId": "post-auth-logout",
        "responses": {
          "204": {
            "$ref": "#/components/responses/no-content"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "auth-status": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/auth-status-guest"
          },
          {
            "$ref": "#/components/schemas/auth-status-user"
          }
        ]
      },
      "auth-status-guest": {
        "required": ["status"],
        "properties": {
          "status": {
            "type": "string",
            "enum": ["guest"]
          }
        },
        "type": "object"
      },
      "auth-status-user": {
        "required": ["status", "id", "has_verified_email"],
        "properties": {
          "status": {
            "type": "string",
            "enum": ["admin", "owner", "customer"]
          },
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "has_verified_email": {
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "register-error": {
        "required": ["message", "errors"],
        "properties": {
          "message": {
            "type": "string"
          },
          "errors": {
            "properties": {
              "name": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "email": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "password": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "login-error": {
        "required": ["message", "errors"],
        "properties": {
          "message": {
            "type": "string"
          },
          "errors": {
            "properties": {
              "email": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "password": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "area-data": {
        "description": "エリア情報",
        "required": ["id", "name"],
        "properties": {
          "id": {
            "description": "エリアID",
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "description": "エリア名",
            "type": "string"
          }
        },
        "type": "object"
      },
      "genre-data": {
        "description": "ジャンル情報",
        "required": ["id", "name"],
        "properties": {
          "id": {
            "description": "ジャンルID",
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "description": "ジャンル名",
            "type": "string"
          }
        },
        "type": "object"
      },
      "shop-data": {
        "description": "飲食店情報",
        "required": [
          "id",
          "name",
          "area",
          "genre",
          "image_url",
          "detail",
          "favorite_status"
        ],
        "properties": {
          "id": {
            "description": "飲食店ID",
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "description": "飲食店名",
            "type": "string"
          },
          "area": {
            "$ref": "#/components/schemas/area-data"
          },
          "genre": {
            "$ref": "#/components/schemas/genre-data"
          },
          "image_url": {
            "description": "画像URL",
            "type": "string",
            "format": "uri"
          },
          "detail": {
            "description": "飲食店詳細",
            "type": "string"
          },
          "favorite_status": {
            "description": "お気に入りステータス",
            "type": "string",
            "enum": ["unknown", "marked", "unmarked"]
          }
        },
        "type": "object"
      },
      "reservation-data": {
        "description": "予約情報",
        "required": ["id", "shop", "reserved_at", "number_of_guests"],
        "properties": {
          "id": {
            "description": "予約ID",
            "type": "integer",
            "format": "int64"
          },
          "shop": {
            "$ref": "#/components/schemas/shop-data"
          },
          "reserved_at": {
            "description": "予約日時",
            "type": "string",
            "format": "date-time"
          },
          "number_of_guests": {
            "description": "予約人数",
            "type": "integer",
            "minimum": 1
          }
        },
        "type": "object"
      },
      "reservation-error": {
        "required": ["message", "errors"],
        "properties": {
          "message": {
            "type": "string"
          },
          "errors": {
            "properties": {
              "reserved_at": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "number_of_guests": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      },
      "pagination": {
        "description": "ページネーション",
        "required": ["meta", "links"],
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/pagination-meta"
          },
          "links": {
            "$ref": "#/components/schemas/pagination-links"
          }
        },
        "type": "object"
      },
      "pagination-meta": {
        "description": "ページネーションメタ情報",
        "required": [
          "current_page",
          "from",
          "last_page",
          "links",
          "path",
          "per_page",
          "to",
          "total"
        ],
        "properties": {
          "current_page": {
            "description": "現在のページ番号",
            "type": "integer",
            "minimum": 1
          },
          "from": {
            "description": "現在のページの最初のレコード番号",
            "type": ["integer", "null"],
            "minimum": 1
          },
          "last_page": {
            "description": "最終ページ番号",
            "type": "integer",
            "minimum": 1
          },
          "links": {
            "description": "ページネーションリンク",
            "type": "array",
            "items": {
              "required": ["url", "label", "active"],
              "properties": {
                "url": {
                  "description": "リンクURL",
                  "type": ["string", "null"],
                  "format": "uri"
                },
                "label": {
                  "description": "リンクラベル",
                  "type": "string"
                },
                "active": {
                  "description": "アクティブかどうか",
                  "type": "boolean"
                }
              },
              "type": "object"
            }
          },
          "path": {
            "description": "現在のページのURL",
            "type": "string",
            "format": "uri"
          },
          "per_page": {
            "description": "1ページあたりの件数",
            "type": "integer",
            "minimum": 1
          },
          "to": {
            "description": "現在のページの最後のレコード番号",
            "type": ["integer", "null"],
            "minimum": 1
          },
          "total": {
            "description": "総件数",
            "type": "integer",
            "minimum": 0
          }
        },
        "type": "object"
      },
      "pagination-links": {
        "description": "ページネーションリンク",
        "required": ["first", "last", "prev", "next"],
        "properties": {
          "first": {
            "description": "最初のページのURL",
            "type": "string",
            "format": "uri"
          },
          "last": {
            "description": "最後のページのURL",
            "type": "string",
            "format": "uri"
          },
          "prev": {
            "description": "前のページのURL",
            "type": ["string", "null"],
            "format": "uri"
          },
          "next": {
            "description": "次のページのURL",
            "type": ["string", "null"],
            "format": "uri"
          }
        },
        "type": "object"
      }
    },
    "responses": {
      "show-customer-200": {
        "description": "OK",
        "content": {
          "application/json": {
            "schema": {
              "required": ["name"],
              "properties": {
                "name": {
                  "type": "string",
                  "example": "テストユーザー"
                }
              },
              "type": "object"
            }
          }
        }
      },
      "ok": {
        "description": "リクエストが成功しリソースが見つかった"
      },
      "created": {
        "description": "リクエストが成功しリソースが作成された"
      },
      "no-content": {
        "description": "リクエストが成功しリソースが存在しない"
      },
      "found": {
        "description": "リクエストが成功しリソースが見つかった"
      },
      "unauthorized": {
        "description": "認証エラー"
      },
      "forbidden": {
        "description": "認可エラー"
      },
      "not-found": {
        "description": "指定されたリソースが存在しない"
      },
      "conflict": {
        "description": "リクエストが競合している"
      },
      "unprocessable-entity": {
        "description": "リクエストが正しくない"
      },
      "get-sanctum-csrf-cookie-204": {
        "description": "CSRFトークン取得成功",
        "headers": {
          "Set-Cookie": {
            "description": "CSRFトークンをCookieにセット",
            "required": true,
            "schema": {
              "type": "string",
              "example": "XSRF-TOKEN=eyJpdiI6Ij"
            }
          }
        }
      },
      "get-auth-status-200": {
        "description": "認証状態取得成功",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/auth-status"
            },
            "examples": {
              "guest": {
                "$ref": "#/components/examples/get-auth-status-200-guest"
              },
              "customer-unverified": {
                "$ref": "#/components/examples/get-auth-status-200-customer-unverified"
              },
              "customer-verified": {
                "$ref": "#/components/examples/get-auth-status-200-customer-verified"
              }
            }
          }
        }
      },
      "post-owners-422": {
        "description": "バリデーションエラーまたはメールアドレスが登録済み",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/register-error"
            }
          }
        }
      },
      "post-auth-register-422": {
        "description": "バリデーションエラーまたはメールアドレスが登録済み",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/register-error"
            },
            "examples": {
              "required": {
                "$ref": "#/components/examples/post-auth-register-422-required"
              },
              "invalid-email": {
                "$ref": "#/components/examples/post-auth-register-422-email"
              },
              "password": {
                "$ref": "#/components/examples/post-auth-register-422-password"
              }
            }
          }
        }
      },
      "post-auth-login-422": {
        "description": "バリデーションエラーまたは未登録",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/login-error"
            },
            "examples": {
              "required": {
                "$ref": "#/components/examples/post-auth-login-422-required"
              },
              "email": {
                "$ref": "#/components/examples/post-auth-login-422-email"
              }
            }
          }
        }
      },
      "get-areas-200": {
        "description": "エリア一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["areas"],
              "properties": {
                "areas": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/area-data"
                  }
                }
              },
              "type": "object"
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/get-areas-200"
              }
            }
          }
        }
      },
      "get-genres-200": {
        "description": "ジャンル一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["genres"],
              "properties": {
                "genres": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/genre-data"
                  }
                }
              },
              "type": "object"
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/get-genres-200"
              }
            }
          }
        }
      },
      "get-shops-200": {
        "description": "飲食店一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/pagination"
                },
                {
                  "required": ["data"],
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/shop-data"
                      }
                    }
                  },
                  "type": "object"
                }
              ]
            },
            "examples": {
              "first-page": {
                "$ref": "#/components/examples/get-shops-200-first-page"
              },
              "middle-page": {
                "$ref": "#/components/examples/get-shops-200-middle-page"
              },
              "last-page": {
                "$ref": "#/components/examples/get-shops-200-last-page"
              },
              "empty": {
                "$ref": "#/components/examples/get-shops-200-empty"
              }
            }
          }
        }
      },
      "get-shop-200": {
        "description": "飲食店情報取得成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["data"],
              "properties": {
                "data": {
                  "$ref": "#/components/schemas/shop-data"
                }
              },
              "type": "object"
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/get-shop-200"
              }
            }
          }
        }
      },
      "get-customer-favorites-200": {
        "description": "マイページのお気に入り一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/pagination"
                },
                {
                  "required": ["data"],
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/shop-data"
                      }
                    }
                  },
                  "type": "object"
                }
              ]
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/get-customer-favorites-200"
              }
            }
          }
        }
      },
      "get-customer-reservations-200": {
        "description": "マイページの予約一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["data"],
              "properties": {
                "data": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/reservation-data"
                  }
                }
              },
              "type": "object"
            }
          }
        }
      },
      "get-customer-shop-reservations-200": {
        "description": "飲食店詳細ページの予約一覧取得成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["reservations"],
              "properties": {
                "reservations": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/reservation-data"
                  }
                }
              },
              "type": "object"
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/get-customer-shop-reservations-200-example"
              },
              "empty": {
                "$ref": "#/components/examples/get-customer-shop-reservations-200-empty"
              }
            }
          }
        }
      },
      "post-customer-shop-reservations-201": {
        "description": "飲食店詳細ページの予約追加成功",
        "content": {
          "application/json": {
            "schema": {
              "required": ["reservation"],
              "properties": {
                "reservation": {
                  "$ref": "#/components/schemas/reservation-data"
                }
              },
              "type": "object"
            },
            "examples": {
              "example": {
                "$ref": "#/components/examples/post-customer-shop-reservations-201"
              }
            }
          }
        }
      },
      "post-customer-shop-reservations-422": {
        "description": "飲食店詳細ページの予約追加のバリデーションエラー",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/reservation-error"
            },
            "examples": {
              "required": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-required"
              },
              "date": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-reserved_at"
              },
              "past": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-past"
              },
              "number_of_guests": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-number_of_guests"
              }
            }
          }
        }
      },
      "put-customer-reservation-422": {
        "description": "マイページの予約変更のバリデーションエラー",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/reservation-error"
            },
            "examples": {
              "required": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-required"
              },
              "date": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-reserved_at"
              },
              "past": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-past"
              },
              "number_of_guests": {
                "$ref": "#/components/examples/post-customer-shop-reservations-422-number_of_guests"
              }
            }
          }
        }
      }
    },
    "parameters": {
      "user-id": {
        "name": "user",
        "in": "path",
        "description": "ユーザーID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "example": 1
        }
      },
      "hash": {
        "name": "hash",
        "in": "path",
        "description": "ハッシュ値",
        "required": true,
        "schema": {
          "type": "string",
          "example": "a94a8fe5ccb19ba61c4c0873d391e987982fbbd3"
        }
      },
      "customer-id": {
        "name": "customer",
        "in": "path",
        "description": "顧客ID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "example": 1
        }
      },
      "shop-id": {
        "name": "shop",
        "in": "path",
        "description": "飲食店ID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "example": 1
        }
      },
      "reservation-id": {
        "name": "reservation",
        "in": "path",
        "description": "予約ID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "example": 1
        }
      },
      "area-query": {
        "name": "area",
        "in": "query",
        "description": "エリアID",
        "required": false,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "genre-query": {
        "name": "genre",
        "in": "query",
        "description": "ジャンルID",
        "required": false,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "search-query": {
        "name": "search",
        "in": "query",
        "description": "店名検索キーワード",
        "required": false,
        "schema": {
          "type": "string"
        }
      },
      "page-query": {
        "name": "page",
        "in": "query",
        "description": "ページ番号",
        "required": false,
        "schema": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "examples": {
      "get-auth-status-200-guest": {
        "summary": "未認証の状態",
        "value": {
          "status": "guest"
        }
      },
      "get-auth-status-200-customer-unverified": {
        "summary": "顧客として認証済みだが、メールアドレスが未確認の状態",
        "value": {
          "status": "customer",
          "id": 1,
          "has_verified_email": false
        }
      },
      "get-auth-status-200-customer-verified": {
        "summary": "顧客として認証済みで、メールアドレスも確認済みの状態",
        "value": {
          "status": "customer",
          "id": 1,
          "has_verified_email": true
        }
      },
      "post-auth-register-422-required": {
        "summary": "名前、メールアドレス、パスワードが入力されていない場合",
        "value": {
          "message": "名前を入力してください (and 2 more errors)",
          "errors": {
            "name": ["名前を入力してください"],
            "email": ["メールアドレスを入力してください"],
            "password": ["パスワードを入力してください"]
          }
        }
      },
      "post-auth-register-422-email": {
        "summary": "メールアドレスが正しい形式でない場合",
        "value": {
          "message": "メールアドレスを正しい形式で入力してください",
          "errors": {
            "email": ["メールアドレスを正しい形式で入力してください"]
          }
        }
      },
      "post-auth-register-422-password": {
        "summary": "パスワードが8文字未満の場合",
        "value": {
          "message": "パスワードは8文字以上で入力してください",
          "errors": {
            "password": ["パスワードは8文字以上で入力してください"]
          }
        }
      },
      "post-auth-login-422-required": {
        "summary": "メールアドレス、パスワードが入力されていない場合",
        "value": {
          "message": "メールアドレスを入力してください (and 1 more error)",
          "errors": {
            "email": ["メールアドレスを入力してください"],
            "password": ["パスワードを入力してください"]
          }
        }
      },
      "post-auth-login-422-email": {
        "summary": "顧客が登録されていない場合",
        "value": {
          "message": "認証情報が登録されていません",
          "errors": {
            "email": ["認証情報が登録されていません"]
          }
        }
      },
      "get-areas-200": {
        "summary": "エリア一覧の例",
        "value": {
          "areas": [
            {
              "id": 1,
              "name": "東京"
            },
            {
              "id": 2,
              "name": "大阪"
            },
            {
              "id": 3,
              "name": "福岡"
            }
          ]
        }
      },
      "get-genres-200": {
        "summary": "ジャンル一覧の例",
        "value": {
          "genres": [
            {
              "id": 1,
              "name": "和食"
            },
            {
              "id": 2,
              "name": "中華"
            },
            {
              "id": 3,
              "name": "イタリアン"
            }
          ]
        }
      },
      "get-shops-200-first-page": {
        "summary": "1ページ目の飲食店一覧",
        "value": {
          "meta": {
            "current_page": 1,
            "from": 1,
            "last_page": 3,
            "path": "https://api.rese.com/shops",
            "per_page": 5,
            "to": 5,
            "total": 12
          },
          "links": [
            {
              "url": null,
              "label": "&laquo; Previous",
              "active": false
            },
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "1",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=2",
              "label": "2",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=3",
              "label": "3",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=2",
              "label": "Next &raquo;",
              "active": true
            }
          ],
          "data": [
            {
              "id": 1,
              "name": "店舗1",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/1.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 2,
              "name": "店舗2",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/2.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unmarked"
            },
            {
              "id": 3,
              "name": "店舗3",
              "area": {
                "id": 3,
                "name": "福岡県"
              },
              "genre": {
                "id": 3,
                "name": "イタリアン"
              },
              "image_url": "https://api.rese.com/images/3.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unknown"
            },
            {
              "id": 4,
              "name": "店舗4",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/4.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 5,
              "name": "店舗5",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/5.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unmarked"
            }
          ]
        }
      },
      "get-shops-200-middle-page": {
        "summary": "2ページ目の飲食店一覧",
        "value": {
          "meta": {
            "current_page": 2,
            "from": 6,
            "last_page": 3,
            "path": "https://api.rese.com/shops",
            "per_page": 5,
            "to": 10,
            "total": 12
          },
          "links": [
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "&laquo; Previous",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "1",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=2",
              "label": "2",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=3",
              "label": "3",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=3",
              "label": "Next &raquo;",
              "active": true
            }
          ],
          "data": [
            {
              "id": 6,
              "name": "店舗6",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/6.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 7,
              "name": "店舗7",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/7.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unmarked"
            },
            {
              "id": 8,
              "name": "店舗8",
              "area": {
                "id": 3,
                "name": "福岡県"
              },
              "genre": {
                "id": 3,
                "name": "イタリアン"
              },
              "image_url": "https://api.rese.com/images/8.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unknown"
            },
            {
              "id": 9,
              "name": "店舗9",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/9.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 10,
              "name": "店舗10",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/10.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unmarked"
            }
          ]
        }
      },
      "get-shops-200-last-page": {
        "summary": "3ページ目の飲食店一覧",
        "value": {
          "meta": {
            "current_page": 3,
            "from": 11,
            "last_page": 3,
            "path": "https://api.rese.com/shops",
            "per_page": 5,
            "to": 12,
            "total": 12
          },
          "links": [
            {
              "url": "https://api.rese.com/shops?page=2",
              "label": "&laquo; Previous",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "1",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=2",
              "label": "2",
              "active": true
            },
            {
              "url": "https://api.rese.com/shops?page=3",
              "label": "3",
              "active": true
            },
            {
              "url": null,
              "label": "Next &raquo;",
              "active": false
            }
          ],
          "data": [
            {
              "id": 11,
              "name": "店舗11",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/11.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 12,
              "name": "店舗12",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/12.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "unmarked"
            }
          ]
        }
      },
      "get-shops-200-empty": {
        "summary": "該当する飲食店がない場合",
        "value": {
          "meta": {
            "current_page": 1,
            "from": null,
            "last_page": 1,
            "path": "https://api.rese.com/shops",
            "per_page": 10,
            "to": null,
            "total": 0
          },
          "links": [
            {
              "url": null,
              "label": "&laquo; Previous",
              "active": false
            },
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "1",
              "active": false
            },
            {
              "url": null,
              "label": "Next &raquo;",
              "active": false
            }
          ],
          "data": []
        }
      },
      "get-shop-200": {
        "summary": "飲食店情報の例",
        "value": {
          "data": {
            "id": 1,
            "name": "店舗1",
            "area": {
              "id": 1,
              "name": "東京都"
            },
            "genre": {
              "id": 1,
              "name": "和食"
            },
            "image_url": "https://api.rese.com/images/1.jpg",
            "detail": "サンプルテキスト",
            "favorite_status": "marked"
          }
        }
      },
      "get-customer-favorites-200": {
        "summary": "お気に入り一覧の例",
        "value": {
          "meta": {
            "current_page": 1,
            "from": 1,
            "last_page": 1,
            "path": "https://api.rese.com/customers/1/favorites",
            "per_page": 5,
            "to": 2,
            "total": 2
          },
          "links": [
            {
              "url": null,
              "label": "&laquo; Previous",
              "active": false
            },
            {
              "url": "https://api.rese.com/shops?page=1",
              "label": "1",
              "active": false
            },
            {
              "url": null,
              "label": "Next &raquo;",
              "active": false
            }
          ],
          "data": [
            {
              "id": 1,
              "name": "店舗1",
              "area": {
                "id": 1,
                "name": "東京都"
              },
              "genre": {
                "id": 1,
                "name": "和食"
              },
              "image_url": "https://api.rese.com/images/1.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            },
            {
              "id": 2,
              "name": "店舗2",
              "area": {
                "id": 2,
                "name": "大阪府"
              },
              "genre": {
                "id": 2,
                "name": "中華"
              },
              "image_url": "https://api.rese.com/images/2.jpg",
              "detail": "サンプルテキスト",
              "favorite_status": "marked"
            }
          ]
        }
      },
      "get-customer-shop-reservations-200-example": {
        "summary": "予約一覧の例",
        "value": {
          "reservations": [
            {
              "id": 1,
              "shop": {
                "id": 1,
                "name": "店舗1",
                "area": {
                  "id": 1,
                  "name": "東京都"
                },
                "genre": {
                  "id": 1,
                  "name": "和食"
                },
                "image_url": "https://api.rese.com/images/1.jpg",
                "detail": "サンプルテキスト",
                "favorite_status": "unmarked"
              },
              "reserved_at": "2021-12-31T18:00:00+09:00",
              "number_of_guests": 2
            },
            {
              "id": 2,
              "shop": {
                "id": 2,
                "name": "店舗2",
                "area": {
                  "id": 2,
                  "name": "大阪府"
                },
                "genre": {
                  "id": 2,
                  "name": "中華"
                },
                "image_url": "https://api.rese.com/images/2.jpg",
                "detail": "サンプルテキスト",
                "favorite_status": "marked"
              },
              "reserved_at": "2022-01-01T19:00:00+09:00",
              "number_of_guests": 4
            }
          ]
        }
      },
      "get-customer-shop-reservations-200-empty": {
        "summary": "該当する予約がない場合",
        "value": {
          "reservations": []
        }
      },
      "post-customer-shop-reservations-201": {
        "summary": "予約追加成功",
        "value": {
          "id": 1,
          "shop": {
            "id": 1,
            "name": "店舗1",
            "area": {
              "id": 1,
              "name": "東京都"
            },
            "genre": {
              "id": 1,
              "name": "和食"
            },
            "image_url": "https://api.rese.com/images/1.jpg",
            "detail": "サンプルテキスト",
            "favorite_status": "marked"
          },
          "reserved_at": "2022-01-01T19:00:00+09:00",
          "number_of_guests": 4
        }
      },
      "post-customer-shop-reservations-422-required": {
        "summary": "予約日時、人数が入力されていない場合",
        "value": {
          "message": "予約日時を入力してください (and 1 more error)",
          "errors": {
            "reserved_at": ["予約日時を入力してください"],
            "number_of_guests": ["人数を入力してください"]
          }
        }
      },
      "post-customer-shop-reservations-422-reserved_at": {
        "summary": "予約日時がRFC3339形式でない場合",
        "value": {
          "message": "予約日時はRFC3339形式で入力してください",
          "errors": {
            "reserved_at": ["予約日時はRFC3339形式で入力してください"]
          }
        }
      },
      "post-customer-shop-reservations-422-past": {
        "summary": "過去の日時を指定した場合",
        "value": {
          "message": "過去の日時は指定できません",
          "errors": {
            "reserved_at": ["過去の日時は指定できません"]
          }
        }
      },
      "post-customer-shop-reservations-422-number_of_guests": {
        "summary": "人数が0以下の場合",
        "value": {
          "message": "人数は1以上で入力してください",
          "errors": {
            "number_of_guests": ["人数は1以上で入力してください"]
          }
        }
      }
    },
    "requestBodies": {
      "post-owners": {
        "description": "店舗代表者追加リクエスト",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "required": ["name", "email", "password"],
              "properties": {
                "name": {
                  "description": "店舗代表者名",
                  "type": "string",
                  "maxLength": 100,
                  "minLength": 1,
                  "example": "テストオーナー"
                },
                "email": {
                  "description": "メールアドレス",
                  "type": "string",
                  "format": "email",
                  "example": "test@example.com"
                },
                "password": {
                  "description": "パスワード",
                  "type": "string",
                  "maxLength": 100,
                  "minLength": 8,
                  "example": "password"
                }
              },
              "type": "object"
            }
          }
        }
      },
      "post-auth-register": {
        "description": "顧客登録リクエスト",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "required": ["name", "email", "password"],
              "properties": {
                "name": {
                  "description": "顧客名",
                  "type": "string",
                  "maxLength": 100,
                  "minLength": 1,
                  "example": "テストユーザー"
                },
                "email": {
                  "description": "メールアドレス",
                  "type": "string",
                  "format": "email",
                  "example": "test@example.com"
                },
                "password": {
                  "description": "パスワード",
                  "type": "string",
                  "maxLength": 100,
                  "minLength": 8,
                  "example": "password"
                }
              },
              "type": "object"
            }
          }
        }
      },
      "post-auth-login": {
        "description": "ログインリクエスト",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "required": ["email", "password"],
              "properties": {
                "email": {
                  "description": "メールアドレス",
                  "type": "string",
                  "format": "email",
                  "example": "test@example.com"
                },
                "password": {
                  "description": "パスワード",
                  "type": "string",
                  "maxLength": 100,
                  "minLength": 8,
                  "example": "password"
                }
              },
              "type": "object"
            }
          }
        }
      },
      "post-customer-shop-reservations": {
        "description": "予約追加リクエスト",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "required": ["reserved_at", "number_of_guests"],
              "properties": {
                "reserved_at": {
                  "description": "予約日時",
                  "type": "string",
                  "format": "date-time",
                  "example": "2021-12-31T23:59:59+09:00"
                },
                "number_of_guests": {
                  "description": "予約人数",
                  "type": "integer",
                  "minimum": 1,
                  "example": 2
                }
              },
              "type": "object"
            }
          }
        }
      },
      "put-customer-reservation": {
        "description": "予約変更リクエスト",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "required": ["reserved_at", "number_of_guests"],
              "properties": {
                "reserved_at": {
                  "description": "予約日時",
                  "type": "string",
                  "format": "date-time",
                  "example": "2021-12-31T23:59:59+09:00"
                },
                "number_of_guests": {
                  "description": "予約人数",
                  "type": "integer",
                  "minimum": 1,
                  "example": 2
                }
              },
              "type": "object"
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Auth",
      "description": "認証に関するAPI"
    },
    {
      "name": "Area",
      "description": "エリアに関するAPI"
    },
    {
      "name": "Genre",
      "description": "ジャンルに関するAPI"
    },
    {
      "name": "Shop",
      "description": "飲食店に関するAPI"
    },
    {
      "name": "Customer",
      "description": "顧客に関するAPI"
    },
    {
      "name": "Favorite",
      "description": "お気に入りに関するAPI"
    },
    {
      "name": "Reservation",
      "description": "予約に関するAPI"
    },
    {
      "name": "Admin",
      "description": "管理者に関するAPI"
    }
  ]
}
